<div class="search">
  <form (submit)="GiphyService.search(searchText)">
    <input class="search-text" name="search" [(ngModel)]="searchText" mdInput placeholder="Search for giphies" />
    <a style="cursor: pointer" *ngIf="searchText && searchText.length > 0" (click)="GiphyService.search(searchText)">&gt;</a>
    <button md-raised-button class="small-btn" disabled="{{searchText && searchText.length === 0}}" color="primary" type="submit">Search</button> &nbsp; <button type="button" md-raised-button disabled="{{searchText && searchText.length === 0}}" color="primary" (click)="clearSearch()" class="small-btn">Clear</button>
  </form>

  <div>
      <div class="container drop-zone" (drop)="drop($event)" (dragover)="allowDrop($event)">
        <!--
          <img id="drag1" src="http://www.w3schools.com/html/img_w3slogo.gif" draggable="true"
            (dragstart)="drag($event)" width="336" height="69">
          </div>
        -->
            Drop images here!          
  </div>

  <div fxLayout="row" fxLayoutWrap>  
    <md-card *ngFor="let giphy of GiphyService.searchGiphies">
      <img title="Click to add and copy url" class="giphy-item" (click)="addGiphy(giphy.images.fixed_height)" src="{{giphy.images.fixed_height.url}}">    
    </md-card>    
  </div>

</div>

<h4>Saved Giphies ({{savedGiphies ? savedGiphies.length : 0}})</h4>
<span [hidden]=!imageCopied>Giphy url copied!</span>

<div fxLayout="row" fxLayoutWrap>  

  <md-card *ngFor="let giphy of savedGiphies">
    <md-card-header>
      <md-card-title>
        <!--
        <span class="caption">{{giphy.caption}}</span> 
        -->
      <app-inline-edit [(ngModel)]="giphy.caption" (change)="editCaption($event, giphy)" [required]="true" type="text">
      </app-inline-edit>
      <span class="click-count">({{giphy.clickCount}})</span>
    </md-card-title>
    </md-card-header>
    <img title="Click to copy url" class="giphy-item" (click)="copyGiphy(giphy)" src="{{giphy.imageUrl}}">
    <md-card-actions>
        <div fxFlex></div>
        <button md-button class="small-btn" (click)="deleteGiphy(giphy)">REMOVE</button>      
    </md-card-actions>
  </md-card>

</div>